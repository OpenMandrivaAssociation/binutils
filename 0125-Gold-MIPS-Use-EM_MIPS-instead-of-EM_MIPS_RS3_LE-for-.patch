From c27eff41737c95a84c01bd1f498931ad2323141c Mon Sep 17 00:00:00 2001
From: YunQiang Su <yunqiang.su@cipunited.com>
Date: Tue, 21 Nov 2023 12:52:24 +0800
Subject: [PATCH 125/180] Gold/MIPS: Use EM_MIPS instead of EM_MIPS_RS3_LE for
 little endian

Backport commit: 870a4f2cc3df832eab92151e27fd9e7db9027726
---
 gold/ChangeLog     | 5 +++++
 gold/configure.tgt | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/gold/ChangeLog b/gold/ChangeLog
index cbdb467b427..3b09989d32d 100644
--- a/gold/ChangeLog
+++ b/gold/ChangeLog
@@ -1,3 +1,8 @@
+2023-11-21  YunQiang Su  <yunqiang.su@cipunited.com>
+
+	* configure.tgt (mips targets): Set targ_machine to EM_MIPS for
+	little endian mips targets.
+
 2023-07-30  Nick Clifton  <nickc@redhat.com>
 
 	This is the 2.41 release.
diff --git a/gold/configure.tgt b/gold/configure.tgt
index 4b54e08d27f..751c8fd06c6 100644
--- a/gold/configure.tgt
+++ b/gold/configure.tgt
@@ -155,7 +155,7 @@ aarch64*-*)
  ;;
 mips*el*-*-*|mips*le*-*-*)
  targ_obj=mips
- targ_machine=EM_MIPS_RS3_LE
+ targ_machine=EM_MIPS
  targ_size=32
  targ_big_endian=false
  targ_extra_big_endian=true
-- 
2.43.0

